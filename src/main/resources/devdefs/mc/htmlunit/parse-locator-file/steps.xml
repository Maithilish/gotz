<?xml version="1.0" encoding="UTF-8"?>

<xfields xmlns="http://codetab.org/xfield">

    <xfield name="locator" class="org.codetab.gotz.model.Locator">

        <steps name="stepsSeq">
            <step name="seeder"
                class="org.codetab.gotz.step.extract.LocatorSeeder">
                <nextStep>loader</nextStep>
                <unique>true</unique>
            </step>
            <step name="loader" class="org.codetab.gotz.step.extract.URLLoader">
                <nextStep>parser</nextStep>
                <unique>true</unique>
            </step>
            <step name="parser"
                class="org.codetab.gotz.step.extract.HtmlDataParser">
                <nextStep>filter</nextStep>
            </step>
            <step name="filter" class="org.codetab.gotz.step.convert.DataFilter">
                <nextStep>converter</nextStep>
            </step>
            <step name="converter"
                class="org.codetab.gotz.step.convert.DataSetConverter">
                <nextStep>appender</nextStep>
            </step>
            <step name="appender" class="org.codetab.gotz.step.load.DataSetAppender">
                <nextStep>end</nextStep>
                <appender name="file"
                    class="org.codetab.gotz.appender.FileAppender">
                    <file>output/x.txt</file>
                </appender>
            </step>
        </steps>

        <tasks name="quote" group="quote">
            <task name="finlocators" dataDef="finlocators">
                <steps ref="stepsSeq">
                    <step name="parser"
                        class="org.codetab.gotz.step.extract.HtmlLocatorParser">
                        <nextStep>seeder</nextStep>
                    </step>
                </steps>
            </task>
            <task name="quotePage" dataDef="quotePage">
                <steps ref="stepsSeq" />
            </task>
            <task name="price" dataDef="price">
                <steps ref="stepsSeq" />
            </task>
            <live>P0D</live>
        </tasks>

        <tasks name="bs" group="bs">
            <task name="bs" dataDef="bs">
                <steps ref="stepsSeq">
                    <step name="converter"
                        class="org.codetab.gotz.step.convert.DataSetConverter">
                        <nextStep>appender</nextStep>

                        <converter name="date"
                            class="org.codetab.gotz.converter.DateRoller">
                            <axis>col</axis>
                            <inPattern>MMM ''YY</inPattern>
                            <outPattern>YYYY-MM-dd</outPattern>
                            <roll>DAY_OF_MONTH=ceil</roll>
                        </converter>
                    </step>
                </steps>
            </task>
            <live>P0D</live>
        </tasks>

        <tasks name="pl" group="pl">
            <task name="pl" dataDef="pl">
                <steps ref="stepsSeq">
                    <step name="converter"
                        class="org.codetab.gotz.step.convert.DataSetConverter">
                        <nextStep>appender</nextStep>

                        <converter name="date"
                            class="org.codetab.gotz.converter.DateRoller">
                            <axis>col</axis>
                            <inPattern>MMM ''YY</inPattern>
                            <outPattern>YYYY-MM-dd</outPattern>
                            <roll>DAY_OF_MONTH=ceil</roll>
                        </converter>
                    </step>
                </steps>
            </task>
            <live>P0D</live>
        </tasks>

    </xfield>
</xfields>
